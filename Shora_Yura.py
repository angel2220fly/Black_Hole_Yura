import os
from time import time
import binascii
import math
import os.path
import sys

# @Author Jurijus Pacalovas
# Get the name of the current script

if os.path.basename(sys.argv[0]) != "Shora_Yura.py":
    sys.exit("This is not 'Shora_Yura.py'.")

print("The script 'Shora_Yura.py' is currently running.")


class compression:
    def cryptograpy_compression4(self):

        self.name = "Created Quantum Software: Jurijus pacalovas"
        print(self.name)

        N5 = 1

        if N5 == 1:

            Clear = ""

         
            
            


            name = input("What is name of file input? ")
            
            compress_extract = input("compress: 1 extract: 2? ")
            if compress_extract=="1":
                i=1
            elif compress_extract=="2":
                i=2
            else:
                print("Incorrect letter select!")
                raise SystemExit

            long_21 = len(name)

            name_f = name[long_21 - 2 :]
            if i ==2:

                i = 2

            else:

                i = 1
            

            # print(i)
            if os.path.exists(name):

                print("Path is exists!")

            else:

                print("Path is not exists!")

                raise SystemExit

            x = 0
            C1 = 1
            x1 = 0
            x2 = 0
            x3 = 0
            X2 = 0
            C1 = 0
            C2 = 0
            C3 = 0
            C4 = 0
            ZEROS_ONE_1 = ""
            Circle_times = 0
            Circle_times2 = 1
            Circle_times3 = 0
            CB = -1
            Times1 = 0
            Tc = 0
            x = time()
            File_information6_Times2_1 = 0
            name_2 = name
            Long_Change = len(name_2)
            compress_or_not_compress = 1

            File_information6_Times3 = 0

            if i == 2:

                C = 1

            Long_Change = len(name_2)
            s = ""
            File_information5 = ""
            File_information5_2 = ""
            Clear = ""
            Translate_info_Decimal = ""
            D = 0
            long_name = len(name)
            with open(name, "rb") as binary_file:

                data = binary_file.read()
                s = str(data)

                long_11 = len(data)

                long_17 = len(data)

                if long_17 == 0:

                    raise SystemExit

                END_working = 0

                File_information6_Times2 = 0

                File_information5_24 = ""

                INFO18 = ""

                File_information5_29 = ""

                SpinS = 0

                while END_working < 10:

                    File_information6_Times3 = File_information6_Times3 + 1

                    D = 1

                    if D == 1:

                        if File_information6_Times3 == 1:

                            INFO = bin(int(binascii.hexlify(data), 16))[
                                2:
                            ]  # data to binary

                            long_1 = len(INFO)

                            long_11 = len(data)
                            Shora_Yura_long=long_11

                            count_bits = (long_11 * 8) - long_1

                            z = 0

                            if count_bits != 0:

                                while z < count_bits:

                                    INFO = "0" + INFO

                                    z = z + 1

                            Check = INFO

                            File_information5_2 = INFO

                            Extact = File_information5_2

                        long_13 = len(File_information5_2)

                        long_12 = len(File_information5_2)

                        
                        	

                        if i == 1:

                            Ex = 1

                            if Ex == 1:

                                Extract1 = 0

                                Find = 0

                                En = 3

                                Ci = 1

                                M1 = 0

                                Row1 = 0

                                input_string = ""

                                C1 = ""

                                Row = 0

                                I8 = INFO

                                W3 = ""

                                W4 = ""

                                block = 0

                                IF1 = ""

                                long_F = len(I8)

                                # print(long_F)

                                FC = 0

                                IF2 = ""

                                Z7 = 0

                                CZ = 0

                                if Circle_times == 0:

                                    SINFO = ""

                                    TUPLE = INFO

                                if Circle_times == 0:

                                    SINFO = INFO

                                long_bits_after = 0
                                long_bits_after_b = 0
                                long_bits_before = 0
                                times_compress = 0
                                long_after_bits = 0
                                long_bits_after_b_1 = 0
                                J = 1
                                long_F1 = long_F
                                long_one_time = long_F1
                                stop_compress = 0
                                while stop_compress != 1:
                                    block = 0
                                    long_after_bits = len(INFO)
                                    Transform = INFO
                                    long_F = len(I8)
                                    T10 = ""
                                    c_c = 0
                                    T15=""
                                    T16=""
                                    Transform="1"+Transform
                                    T8 = INFO
                                    Shora_decode=1
                                    if Shora_decode==1:
                                        # Step 1: Input the decimal number
                                        original_number = 268  # Example input, replace with any number
                                        #print(f"Original Number (Decimal): {original_number}")
                                        
                                        # Step 2: Factorize the number into its prime factors
                                        factors = []
                                        number = original_number
                                        for i in range(2, number + 1):
                                            while number % i == 0:
                                                factors.append(i)
                                                number //= i
                                            if number == 1:
                                                break
                                        
                                        # Step 3: Print the factors in decimal
                                        #print(f"Any number 2**n Factors: {' '.join(map(str, factors))}")
                                        jl=' '.join(map(str, factors))
                                                                  
                                    
                                 
                                   

                                        name1 = name + ".s"

                                        with open(name1, "w") as f2:

                                            f2.write(jl)

                                        x2 = time()

                                        x3 = x2 - x

                                        print(
                                            f"Speed bits: {(long_11) / x3:.5f}"
                                        )

                                        print("checker seccefully")

                                        xs = float(x3)

                                        xs = str(xs)

                                        return xs

                        if i == 2:

                            if C == 1:

                                Extract1 = 0
                                with open(name, "r") as numbers_file:
                                    # Read all the content from the file
                                    INFO = numbers_file.read()
                                    #print(INFO)

            


                                while Extract1 != 1:
                                    # 1 bits 21
                                    # 0 19
                                    shora=1
                 
                                    if shora==1:
                                        # Step 1: Define the factors
                                            # Step 1: Prompt the user to enter factors with spaces
                                            factors_input = INFO
                                            
                                            # Step 2: Convert the input string into a list of integers
                                            factors = list(map(int, factors_input.split()))
                                            
                                            # Step 3: Calculate the decimal number by multiplying the factors
                                            decoded_number = 1
                                            for factor in factors:
                                                decoded_number *= factor
                                            
                                            # Step 4: Print the factors and the decoded number
                                            #print(f"Factors: {' '.join(map(str, factors))}")
                                            #print(f"Decoded Number: {decoded_number}")

                                        

                                   
                                        
                                        
                                    
                                    

                                    product_binary=format(decoded_number,'01b')
                                    T10=product_binary
                                    #print(T10)
                                    TUPLE=T10
                                    TUPLE1 = TUPLE[1:]
                                    INFO = TUPLE
                                    #print(INFO)

                                    long_L = len(TUPLE)
                                    bfnz=long_L
                                    Extract1=1
                   

                                if Extract1 == 1:
                                    num4 = int(TUPLE1, 2)
                                    # print(num4)
                                    C19 = "0" + str(bfnz) + "b"
                                    TUPLE1 = format(num4, C19)
                                    File_information5_17 = TUPLE1

                                if Extract1 == 1:
                                    L = len(File_information5_17)
                                    n = int(File_information5_17, 2)
                                    width_bits = "%0" + str((L // 8) * 2) + "x"
                                    width_bits3 = binascii.unhexlify(
                                        width_bits % n
                                    )
                                    width_bits2 = len(width_bits3)
                                    name2 = name[:-2]
                                    start_time = time()
                                    with open(name2, "wb") as f2:
                                        f2.write(width_bits3)
                                    elapsed_time = time() - start_time
                                    speed_bits = (long_11 * 8) // float(
                                        elapsed_time
                                    )
                                    print(f"Speed bits: {speed_bits:.5f}")
                                    print("checker seccefully")
                                    return str(elapsed_time)


d = compression()
xw1 = d.cryptograpy_compression4()
print(xw1)